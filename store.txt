USE [TestStore]
GO
/****** Object:  StoredProcedure [dbo].[InsertUpdateDeleteFont]    Script Date: 12/21/2019 11:08:32 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER PROCEDURE [dbo].[InsertUpdateDeleteFont]
(  
--Add the paramaters for the stored procedure here
@id INTEGER,  
@name VARCHAR(255),  
@StatementType nvarchar(20) = '',
@ErrorCode NVARCHAR(255) OUTPUT,
@ErrorMessage Nvarchar(255) OUTPUT
)  
AS  
BEGIN  
IF @StatementType = 'Insert'  
BEGIN  
	BEGIN TRY
		insert into Font(id,name) values( @id, @name)  
	END TRY
	BEGIN CATCH
		SET @ErrorCode = ERROR_NUMBER();
		SET @ErrorMessage = ERROR_MESSAGE();
	END CATCH
END  
IF @StatementType = 'Select'  
BEGIN  
	BEGIN TRY
		select * from Font  
	END TRY
	BEGIN CATCH
		SET @ErrorCode = ERROR_NUMBER();
		SET @ErrorMessage = ERROR_MESSAGE();
	END CATCH
END  
IF @StatementType = 'Update'  
BEGIN  
	BEGIN TRY
		UPDATE Font SET  
		Name = @name  
		WHERE id = @id  
	END TRY
	BEGIN CATCH
		SET @ErrorCode = ERROR_NUMBER();
		SET @ErrorMessage = ERROR_MESSAGE();
	END CATCH
END  
else IF @StatementType = 'Delete'  
BEGIN  
	BEGIN TRY
		DELETE FROM Font WHERE id = @id  
	END TRY
	BEGIN CATCH
		SET @ErrorCode = ERROR_NUMBER();
		SET @ErrorMessage = ERROR_MESSAGE();
	END CATCH
END  
end  